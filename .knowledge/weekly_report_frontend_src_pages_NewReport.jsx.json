{"is_source_file": true, "format": "JavaScript (JSX)", "description": "React component for submitting weekly reports, including form handling, validation, and integration with external services such as supabaseClient, reportsService, and context providers.", "external_files": ["../lib/supabaseClient", "../components/ConfigWarning", "../context/AuthContext", "../services/reportsService", "../components/ToastProvider", "../utils/cn", "../lib/featureFlags"], "external_methods": ["getSupabaseConfigStatus", "useAuth", "useToast", "createWeeklyReport", "isAuthDisabled"], "published": ["NewReport"], "classes": [], "methods": [{"name": "hasRequiredContent", "description": "Checks if the form has the minimum required content and valid week start date."}, {"name": "validate", "description": "Performs validation on the form fields and updates error states."}, {"name": "onSubmit", "description": "Handles form submission, including validation, calls external service to create report, and manages UI state."}], "calls": ["React.useState", "React.useEffect", "createWeeklyReport", "addToast", "console.log", "console.error"], "search-terms": ["NewReport.jsx", "weekly report submission React component", "supabaseClient", "createWeeklyReport", "AuthContext", "ToastProvider", "isAuthDisabled", "date handling in React", "form validation React", "submission handling React"], "state": 2, "file_id": 62, "knowledge_revision": 270, "git_revision": "54f430fd97988bf6fcbad6d8f943b6a89d5ab276", "ctags": [{"_type": "tag", "name": "10", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            minLength={10}$/", "language": "JavaScript", "kind": "field", "scope": "minLength", "scopeKind": "class"}, {"_type": "tag", "name": "NewReport", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^const NewReport = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "acc", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const acc = accomplishments.trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "accomplishments", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={accomplishments}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "authDisabled", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const authDisabled = isAuthDisabled();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "blockers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={blockers}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "disableSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            disabled={disableSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "disableSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const disableSubmit = authDisabled$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.accomplishments ? 'accomplishments-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.nextPlan ? 'nextPlan-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.weekStart ? 'weekStart-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "hasRequiredContent", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const hasRequiredContent = React.useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inserted", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^      const inserted = await createWeeklyReport({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "minLen", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const minLen = 10;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nextErrors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const nextErrors = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nextPlan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={nextPlan}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "onSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const onSubmit = async (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "plan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const plan = nextPlan.trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAccomplishments", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [accomplishments, setAccomplishments] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setBlockers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [blockers, setBlockers] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setErrors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [errors, setErrors] = React.useState({}); \\/\\/ { fieldName: 'message' }$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNextPlan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [nextPlan, setNextPlan] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [status, setStatus] = React.useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSubmitting", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [submitting, setSubmitting] = React.useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTagsInput", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [tagsInput, setTagsInput] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setWeekStart", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [weekStart, setWeekStart] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "submitting", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-busy={submitting ? 'true' : 'false'}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "tagsInput", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={tagsInput}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const validate = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "weekStart", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={weekStart}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}], "hash": "4ec62e8a72f9d41d27b4dadfb47ef90f", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/pages/NewReport.jsx", "fields": [{"name": "minLength={10}", "scope": "minLength", "scopeKind": "class", "description": "unavailable"}, {"name": "value={accomplishments}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={blockers}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={disableSubmit}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.accomplishments ? 'accomplishments-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.nextPlan ? 'nextPlan-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.weekStart ? 'weekStart-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "value={nextPlan}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-busy={submitting ? 'true' : 'false'}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "value={tagsInput}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={weekStart}", "scope": "value", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"270": "54f430fd97988bf6fcbad6d8f943b6a89d5ab276"}]}