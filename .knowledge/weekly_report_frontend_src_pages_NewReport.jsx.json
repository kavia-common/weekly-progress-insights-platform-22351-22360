{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component 'NewReport' that renders a weekly report submission form, manages form state, performs validation, and submits data via a service function. It handles various modes such as authentication-disabled test mode and checks for external configuration dependencies like Supabase settings.", "external_files": ["../lib/supabaseClient", "../components/ConfigWarning", "../context/AuthContext", "../services/reportsService", "../components/ToastProvider", "../utils/cn", "../lib/featureFlags"], "external_methods": ["getSupabaseConfigStatus", "useAuth", "useToast", "createWeeklyReport", "cn", "isAuthDisabled"], "published": [], "classes": [], "methods": [{"name": "NewReport", "description": "React functional component rendering the form for submitting weekly reports, managing local state, validation, and submission logic."}], "calls": ["React.useState", "React.useEffect", "getSupabaseConfigStatus", "useAuth", "useToast", "createWeeklyReport", "cn", "isAuthDisabled"], "search-terms": ["NewReport React component", "weekly report form", "supabase configuration", "auth mode", "form validation", "submit handler", "RLS policies", "environment variables", "test mode", "React hooks", "Toast notifications"], "state": 2, "file_id": 18, "knowledge_revision": 172, "git_revision": "54f430fd97988bf6fcbad6d8f943b6a89d5ab276", "revision_history": [{"42": ""}, {"59": "f5d73332335287d385642d255e103dc455313f1a"}, {"74": "4e4895308af0bc6e23fc794ab94125fd51c60a36"}, {"76": "aee7a9e0bada63095fac8760908ace3d11f90592"}, {"78": "f8df789bd2abfffffd0c483c22130ca0208820f6"}, {"79": "7c925dee111f2188b72674f645a0e81d534c0847"}, {"80": "7c925dee111f2188b72674f645a0e81d534c0847"}, {"81": "54f430fd97988bf6fcbad6d8f943b6a89d5ab276"}, {"172": "54f430fd97988bf6fcbad6d8f943b6a89d5ab276"}], "ctags": [{"_type": "tag", "name": "10", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            minLength={10}$/", "language": "JavaScript", "kind": "field", "scope": "minLength", "scopeKind": "class"}, {"_type": "tag", "name": "NewReport", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^const NewReport = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "acc", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const acc = accomplishments.trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "accomplishments", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={accomplishments}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "authDisabled", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const authDisabled = isAuthDisabled();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "blockers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={blockers}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "disableSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            disabled={disableSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "disableSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const disableSubmit = authDisabled$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.accomplishments ? 'accomplishments-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.nextPlan ? 'nextPlan-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-describedby={errors.weekStart ? 'weekStart-error' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "hasRequiredContent", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const hasRequiredContent = React.useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inserted", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^      const inserted = await createWeeklyReport({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "minLen", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const minLen = 10;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nextErrors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const nextErrors = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nextPlan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={nextPlan}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "onSubmit", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const onSubmit = async (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "plan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^    const plan = nextPlan.trim();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setAccomplishments", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [accomplishments, setAccomplishments] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setBlockers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [blockers, setBlockers] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setErrors", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [errors, setErrors] = React.useState({}); \\/\\/ { fieldName: 'message' }$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNextPlan", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [nextPlan, setNextPlan] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [status, setStatus] = React.useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSubmitting", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [submitting, setSubmitting] = React.useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTagsInput", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [tagsInput, setTagsInput] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setWeekStart", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const [weekStart, setWeekStart] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "submitting", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            aria-busy={submitting ? 'true' : 'false'}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "tagsInput", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={tagsInput}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^  const validate = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "weekStart", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/NewReport.jsx", "pattern": "/^            value={weekStart}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}], "hash": "4ec62e8a72f9d41d27b4dadfb47ef90f", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/pages/NewReport.jsx", "fields": [{"name": "minLength={10}", "scope": "minLength", "scopeKind": "class", "description": "unavailable"}, {"name": "value={accomplishments}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={blockers}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={disableSubmit}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.accomplishments ? 'accomplishments-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.nextPlan ? 'nextPlan-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.weekStart ? 'weekStart-error' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "value={nextPlan}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-busy={submitting ? 'true' : 'false'}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "value={tagsInput}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={weekStart}", "scope": "value", "scopeKind": "class", "description": "unavailable"}]}