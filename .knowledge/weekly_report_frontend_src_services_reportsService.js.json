{"is_source_file": true, "format": "JavaScript", "description": "This file defines two exported functions, createWeeklyReport and getWeeklyReports, for interacting with a 'weekly_reports' table in a Supabase database. It handles inserting new reports and fetching existing reports, with validation, error handling, and support for test mode configurations.", "external_files": ["../lib/supabaseClient", "../lib/featureFlags"], "external_methods": ["getSupabase", "isAuthDisabled"], "published": ["createWeeklyReport", "getWeeklyReports"], "classes": [], "methods": [{"name": "createWeeklyReport", "description": "Inserts a new weekly report into the database, validating input and handling errors, including RLS permission issues."}, {"name": "getWeeklyReports", "description": "Fetches weekly reports from the database with optional filtering, ordering, and limiting, handling RLS permission errors."}], "calls": ["getSupabase", "isAuthDisabled", "supabase.from", "supabase.from().insert", "supabase.from().select", "supabase.from().order", "supabase.from().limit"], "search-terms": ["reportsService", "weekly_reports", "createWeeklyReport", "getWeeklyReports", "Supabase RLS", "weekly report insert", "fetch weekly reports"], "state": 2, "file_id": 25, "knowledge_revision": 168, "git_revision": "09f8e1ead62c7b0c0ebc17d3a1ed5a91901f8868", "revision_history": [{"58": ""}, {"77": "4e4895308af0bc6e23fc794ab94125fd51c60a36"}, {"82": "f8df789bd2abfffffd0c483c22130ca0208820f6"}, {"168": "09f8e1ead62c7b0c0ebc17d3a1ed5a91901f8868"}], "ctags": [], "filename": "weekly_report_frontend/src/services/reportsService.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/weekly-progress-insights-platform-22351-22360.git:kavia-main"}