{"is_source_file": true, "format": "JavaScript", "description": "This file is a Node.js script for managing user roles via the Supabase Admin API. It includes functions for parsing command-line arguments, updating user metadata, and optionally syncing user info to a 'profiles' table. The script is intended to be run server-side to securely manage user roles.", "external_files": ["@supabase/supabase-js"], "external_methods": ["require('@supabase/supabase-js').createClient", "supabase.auth.admin.listUsers", "supabase.auth.admin.updateUserById", "supabase.from('profiles').upsert"], "published": ["main"], "classes": [], "methods": [{"name": "parseArgs", "description": "Parses command-line arguments into an object with key-value pairs."}, {"name": "exitWithError", "description": "Logs an error message and exits the process with a specified code."}, {"name": "logInfo", "description": "Logs informational messages to the console."}, {"name": "main", "description": "Main async function that orchestrates user role update and optional profile sync based on CLI arguments."}], "calls": ["require('@supabase/supabase-js').createClient", "supabase.auth.admin.listUsers", "supabase.auth.admin.updateUserById", "supabase.from('profiles').upsert", "console.error", "console.log"], "search-terms": ["setUserRole", "Supabase Admin API", "role management script", "upsert profiles", "server-side Node.js script"], "state": 2, "file_id": 35, "knowledge_revision": 191, "git_revision": "e911ef18dbe8e7e0a6b7b287d33877fc337815de", "revision_history": [{"110": ""}, {"191": "e911ef18dbe8e7e0a6b7b287d33877fc337815de"}], "ctags": [], "filename": "weekly_report_frontend/scripts/setUserRole.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/weekly-progress-insights-platform-22351-22360.git:kavia-main"}