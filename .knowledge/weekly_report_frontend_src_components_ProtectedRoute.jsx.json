{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component called ProtectedRoute that guards access to certain routes by checking user authentication status. It conditionally renders the child components or redirects unauthenticated users to the login page, with support for bypassing authentication in feature-disabled modes.", "external_files": ["../context/AuthContext", "../lib/featureFlags", "react", "react-router-dom"], "external_methods": ["useAuth", "isAuthDisabled", "useLocation", "Navigate"], "published": ["ProtectedRoute"], "classes": [], "methods": [{"name": "ProtectedRoute", "description": "A React functional component that renders its children if the user is authenticated or redirects unauthenticated users to the login page. It also handles loading states and feature flag-based bypasses."}], "calls": ["useAuth()", "isAuthDisabled()", "useLocation()", "Navigate", "encodeURIComponent"], "search-terms": ["ProtectedRoute", "auth guard", "React route protection", "authentication check", "React Router"], "state": 2, "file_id": 59, "knowledge_revision": 257, "git_revision": "7e16ff4b2d88c2a3f2e8fcacb9301736a5750d13", "ctags": [{"_type": "tag", "name": "/login?redirect=${redirectQs}", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^    return <Navigate to={`\\/login?redirect=${redirectQs}`} replace \\/>;$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass966b10e80101", "scopeKind": "class"}, {"_type": "tag", "name": "ProtectedRoute", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^const ProtectedRoute = ({ children }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^const ProtectedRoute = ({ children }) => {$/", "language": "JavaScript", "kind": "field", "scope": "ProtectedRoute", "scopeKind": "class"}, {"_type": "tag", "name": "intended", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^    const intended = `${location.pathname}${location.search || ''}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^  const location = useLocation();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "redirectQs", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/components/ProtectedRoute.jsx", "pattern": "/^    const redirectQs = encodeURIComponent(intended);$/", "language": "JavaScript", "kind": "constant"}], "hash": "fbb36bd47b359b44a087933dee308f96", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/components/ProtectedRoute.jsx", "fields": [{"name": "return <Navigate to={`\\/login?redirect=${redirectQs}`} replace \\/>;", "scope": "AnonymousClass966b10e80101", "scopeKind": "class", "description": "unavailable"}, {"name": "const ProtectedRoute = ({ children }) => {", "scope": "ProtectedRoute", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"257": "7e16ff4b2d88c2a3f2e8fcacb9301736a5750d13"}]}