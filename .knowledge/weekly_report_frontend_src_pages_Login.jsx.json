{"is_source_file": true, "format": "JavaScript/JSX", "description": "This file defines a React functional component for the Login page, supporting OAuth login via Google and Azure using Supabase, as well as email magic link authentication in test mode. It manages user authentication state, redirects after login, and displays relevant UI components.", "external_files": ["../lib/supabaseClient", "../components/ConfigWarning", "../context/AuthContext", "../lib/featureFlags", "../components/ToastProvider", "react", "react-router-dom"], "external_methods": ["getSupabase", "getSupabaseConfigStatus", "useAuth", "isAuthDisabled", "useToast"], "published": [], "classes": [], "methods": [{"name": "signInWithProvider", "description": "Initiates OAuth login with a specified provider (Google or Azure) via Supabase, handles errors, and shows a redirect message."}, {"name": "onSubmitMagicLink", "description": "Sends a magic link to the provided email for authentication in test mode, handling success and error states."}], "calls": ["getSupabase", "getSupabaseConfigStatus", "useAuth", "useToast", "navigate", "useLocation", "supabase.auth.signInWithOAuth", "supabase.auth.signInWithOtp"], "search-terms": ["Login.jsx", "OAuth", "supabase.auth.signInWithOAuth", "magic link", "email sign-in", "redirect handling", "Google", "Azure", "Supabase configuration", "authentication"], "state": 2, "file_id": 24, "knowledge_revision": 99, "git_revision": "7e16ff4b2d88c2a3f2e8fcacb9301736a5750d13", "revision_history": [{"54": ""}, {"91": "48028c5093d583111e1559edafbdbc11a62b3089"}, {"92": "8d06876624b4edb169890ad1d2d21af01bd94d6d"}, {"93": "8d06876624b4edb169890ad1d2d21af01bd94d6d"}, {"96": "8d06876624b4edb169890ad1d2d21af01bd94d6d"}, {"99": "7e16ff4b2d88c2a3f2e8fcacb9301736a5750d13"}], "ctags": [{"_type": "tag", "name": "Login", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^const Login = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authDisabled", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const authDisabled = isAuthDisabled();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const location = useLocation();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const navigate = useNavigate();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "oauthRedirectTo", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const oauthRedirectTo = `${oauthRedirectToBase}?redirect=${encodeURIComponent(redirectTarget)}/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "oauthRedirectToBase", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const oauthRedirectToBase =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onSubmitMagicLink", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const onSubmitMagicLink = async (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "redirectTarget", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const redirectTarget =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const search = new URLSearchParams(location.search);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setEmail", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const [email, setEmail] = React.useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setError", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const [error, setError] = React.useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoadingProvider", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const [loadingProvider, setLoadingProvider] = React.useState(null); \\/\\/ 'google' | 'azure' | /", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const [status, setStatus] = React.useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signInWithProvider", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const signInWithProvider = async (provider) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "siteUrl", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const siteUrl =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/pages/Login.jsx", "pattern": "/^  const supabase = getSupabase();$/", "language": "JavaScript", "kind": "constant"}], "hash": "baace69f25c5ed6c2ae74b432cca27ca", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/pages/Login.jsx"}