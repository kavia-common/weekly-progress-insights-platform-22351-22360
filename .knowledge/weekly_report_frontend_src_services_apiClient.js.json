{"is_source_file": true, "format": "JavaScript", "description": "This file serves as a centralized API client module for frontend backend interactions. It provides functions to retrieve the API base URL, fetch authentication tokens via Supabase, and perform GET and POST requests to the backend with appropriate headers and error handling.", "external_files": ["../lib/supabaseClient"], "external_methods": ["getSupabase"], "published": ["getApiBase", "getAuthToken", "apiGet", "apiPost"], "classes": [], "methods": [{"name": "getApiBase()", "description": "Returns the configured backend API base URL from environment variables or a default fallback.", "scope": "", "scopeKind": ""}, {"name": "getAuthToken()", "description": "Asynchronously retrieves the current auth token from Supabase session if available.", "scope": "", "scopeKind": ""}, {"name": "buildUrl(path, params)", "description": "Constructs a full URL from a base, path, and optional query parameters.", "scope": "", "scopeKind": ""}, {"name": "buildHeaders(extra)", "description": "Builds request headers, including JSON defaults and Authorization header if a token is available.", "scope": "", "scopeKind": ""}, {"name": "apiGet(path, { params, headers, credentials } = {})", "description": "Performs a GET request with optional parameters, headers, and credentials, using fetch API.", "scope": "", "scopeKind": ""}, {"name": "apiPost(path, body, { headers, credentials } = {})", "description": "Performs a POST request with JSON body and optional headers and credentials, using fetch API.", "scope": "", "scopeKind": ""}], "calls": ["getSupabase", "getAuthToken", "buildUrl", "buildHeaders", "fetch", "res.headers.get"], "search-terms": ["apiClient", "fetch", "Supabase auth", "API base URL", "GET request", "POST request", "Authorization Bearer", "handle API responses", "environment variables"], "state": 2, "file_id": 38, "knowledge_revision": 187, "git_revision": "afe2eee2da7bfab0883f67047916643f419818a5", "revision_history": [{"178": "48a4eb29ba26ac67e8d444d1f67366d2b79446d6"}, {"187": "afe2eee2da7bfab0883f67047916643f419818a5"}], "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^    Accept: 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "buildHeaders.headers", "scopeKind": "class"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function apiGet(path, { params, headers, credentials } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { params, headers, credentials } = {})"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function apiPost(path, body, { headers, credentials } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body, { headers, credentials } = {})"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^async function buildHeaders(extra) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra)"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^function buildUrl(path, params) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, params)"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function getAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "buildHeaders", "scopeKind": "class"}], "hash": "058241fc3aedd6ef58c0903970f22269", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/services/apiClient.js", "fields": [{"name": "Accept: 'application\\/json',", "scope": "buildHeaders.headers", "scopeKind": "class", "description": "unavailable"}]}