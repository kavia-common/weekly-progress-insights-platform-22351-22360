{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module that provides a centralized API client for frontend-backend communication in a web application. It includes functions for configuration, obtaining auth tokens via Supabase, building request URLs, and making GET and POST requests with proper headers and error handling.", "external_files": ["../lib/supabaseClient"], "external_methods": ["getSupabase()"], "published": ["getApiBase", "getAuthToken", "apiGet", "apiPost"], "classes": [], "methods": [{"name": "getApiBase()", "description": "Returns the configured backend API base URL from environment variables with fallback to a default URL.", "scope": "", "scopeKind": ""}, {"name": "getAuthToken()", "description": "Asynchronously retrieves the current authentication access token from Supabase session, if available.", "scope": "", "scopeKind": ""}, {"name": "buildUrl(path, params)", "description": "Builds a complete URL from a given path and optional query parameters, based on the environment configuration.", "scope": "", "scopeKind": ""}, {"name": "buildHeaders(extra)", "description": "Asynchronously constructs request headers, including Authorization if an auth token is available.", "scope": "", "scopeKind": ""}, {"name": "apiGet(path, { params, headers, credentials } = {})", "description": "Performs a GET request to the backend API, including authorization headers when possible, with error handling.", "scope": "", "scopeKind": ""}, {"name": "apiPost(path, body, { headers, credentials } = {})", "description": "Performs a POST request with JSON body and authorization headers, with error handling.", "scope": "", "scopeKind": ""}], "calls": ["getSupabase()", "getApiBase()", "buildHeaders()", "fetch()"], "search-terms": ["apiClient", "GET request", "POST request", "Supabase auth", "environment variables", "backend URL", "authorization header", "public API functions"], "state": 2, "file_id": 38, "knowledge_revision": 178, "git_revision": "48a4eb29ba26ac67e8d444d1f67366d2b79446d6", "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^    Accept: 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "buildHeaders.headers", "scopeKind": "class"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function apiGet(path, { params, headers, credentials } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { params, headers, credentials } = {})"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function apiPost(path, body, { headers, credentials } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body, { headers, credentials } = {})"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^async function buildHeaders(extra) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra)"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^function buildUrl(path, params) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, params)"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^export async function getAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/weekly-progress-insights-platform-22351-22360/weekly_report_frontend/src/services/apiClient.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "buildHeaders", "scopeKind": "class"}], "hash": "e4bb15970192d272afd4c3779eaeb5de", "format-version": 4, "code-base-name": "weekly_report_frontend", "filename": "weekly_report_frontend/src/services/apiClient.js", "fields": [{"name": "Accept: 'application\\/json',", "scope": "buildHeaders.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"178": "48a4eb29ba26ac67e8d444d1f67366d2b79446d6"}]}